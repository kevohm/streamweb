@if (movieService.loadingMovie() || seriesService.loadingSeries()) {
<div class="text-white text-3xl font-bold flex items-center justify-center h-full w-full">
  <p>Loading...</p>
</div>
}@else{

<section class="bg-cover bg-center bg-no-repeat bg-blend-multiply flex flex-col w-full h-screen" [ngStyle]="{
          'background-image': 'url(' + (movieService.topMovie()?.backdrop_path || 'path/to/default-image.jpg') + '), linear-gradient(90deg, rgba(0,0,0,.9), rgba(0,0,0,0)), linear-gradient(180deg, rgba(0,0,0,0), rgba(0,0,0,.7)), linear-gradient(180deg, rgba(0,0,0,0), var(--secondary) 90%)',
          'background-size': 'cover',
          'background-position': 'center',
          'background-repeat': 'no-repeat',
          'background-blend-mode': 'multiply'
        }">
  <nav class="flex justify-between items-center px-12 py-5">
    <div class="flex items-center gap-3">
      <p class="flex justify-between items-center px-5 text-[var(--white)] text-lg font-bold">
        Stream<span class="text-[var(--primary)]">Web</span>
      </p>
      <ul class="list-none flex items-center self-start gap-3">
        @for (item of [{title:"movies",slug:"movies",href:"/movie"}, {title:"tv shows",slug:"tv-shows",href:'/tv-show'}]; track $index) {
        <li>
          <a [routerLink]="item.href"
            class="capitalize text-white px-4 py-2 rounded border-none hover:bg-[var(--white)]/5 ">
            {{ item.title }}
          </a>
        </li>
        }
      </ul>
    </div>
    <div class="flex items-center justify-start h-10">
        <input #search type="search" placeholder="Search Here" (keydown.enter)="searchVideo($event)"
          class="backdrop-blur-sm text-[var(--white)] outline-none h-full border-2 border-[var(--white)]/50 bg-[var(--secondary)]/40 px-4 py-2 rounded-l-lg focus:border-[var(--white)]" />
          <select class=" bg-primary text-white h-full px-1 rounded-r-lg" [value]="videoType()" (change)="changeVideoType($event)">
            @for (video of videoOptions; track $index) {
              <option value={{video[0]}}>{{video[1]}}</option>
            }
          </select>
        </div>
  </nav>
  <div class="w-full h-screen p-12 flex flex-col justify-end">
    <div class="max-w-lg text-white flex flex-col space-y-12">
      <div class="flex flex-col space-y-4">
        <p class="font-bold text-3xl">{{movieService.topMovie()?.title}}</p>
        @if (movieService.topMovie()?.id) {
          <app-rating [movieId]="movieService.topMovie()?.id" />
        }
      </div>
      <div class="flex flex-col space-y-6">
        <p>
          {{movieService.topMovie()?.overview}}
        </p>

        <div class="flex space-x-4">
          <a class="btn btn-primary flex items-center space-x-1" [routerLink]="'/watch/' + movieService.topMovie()?.id"
            [queryParams]="{'type':'movie'}">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4">
              <path fill-rule="evenodd"
                d="M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z"
                clip-rule="evenodd" />
            </svg>
            <span>Watch Now </span>
          </a>
          <a [routerLink]="'/trailer/' + movieService.topMovie()?.id" class="btn btn-ghost-outline">Watch Trailer</a>
        </div>
      </div>
    </div>

  </div>
</section>
<section class="py-12 flex flex-col space-y-5">
    <div class="flex flex-col space-y-5">
      <h1 class="text-[var(--white)] font-bold text-xl px-20">Popular Movies</h1>
      <app-movie-carousel [movies]="movieService.trendingMovies()" />
    </div>
    <div class="flex flex-col space-y-5">
      <h1 class="text-[var(--white)] font-bold text-xl px-20">Popular Tv Shows</h1>
      <app-movie-carousel [series]="seriesService.trendingSeries()" />
    </div>
    <div class="flex flex-col space-y-5">
      <h1 class="text-[var(--white)] font-bold text-xl px-20">Top Rated Movies</h1>
      <app-movie-carousel [movies]="movieService.topRatedMovies()" />
    </div>
    <div class="flex flex-col space-y-5">
      <h1 class="text-[var(--white)] font-bold text-xl px-20">Top Rated Tv Shows</h1>
      <app-movie-carousel [series]="seriesService.topRatedSeries()" />
    </div>
</section>
}